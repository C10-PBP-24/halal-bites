{% extends 'base.html' %}
{% load static %}
{% block meta %}
<title>Food Tracker</title>
<link rel="stylesheet" href="{% static 'tracker/style.css' %}">
{% endblock meta %}


{% block content %}
    <div class="container">
        <main>
            <div class="tracker-section">
                {% if food_tracker %}
                    <h2>Your Food Tracker</h2>
                    <ul>
                        {% for item in food_tracker %}
                            <li>
                                {{ item.tracker.restaurant.makanan.name }} at {{ item.tracker.restaurant.nama }}
                                - Rated {{ item.rating }} by you on {{ item.tracker.order_at|date:"F j, Y" }}
                            </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <h2>Food Tracker is Empty ðŸ˜¢</h2>
                    <p>Track your orders now!</p>
                {% endif %}
                <a href="{% url 'tracker:add_food_tracking' %}" id="add-tracking-btn" class="btn btn-primary">+ Add Food Tracking</a>
            </div>
        </main>
    </div>
{% endblock content %}


{% block script %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const addTrackingBtn = document.getElementById('add-tracking-btn');
        const addTrackingForm = document.getElementById('add-tracking-form');

        addTrackingBtn.addEventListener('click', () => {
            addTrackingForm.classList.toggle('hidden');
        });
    });
</script>
{% endblock script %}
